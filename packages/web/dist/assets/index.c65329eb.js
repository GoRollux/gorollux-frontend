import{d as f,b as h,_ as w,i as c}from"./index.11521da7.js";import{r as g}from"./ArrowDown.6c1dfc69.js";import N from"./index.48548dd8.js";import{l as v,r as i,H as S,J as k,bm as o,F as m,j as b}from"./bundle.0b4742f1.js";import"./vue.4357b695.js";import"./ui.adf9472c.js";import"./tools.88963de1.js";import"./ethers.2df7f1ab.js";import"./wallet.9d179fd7.js";import"./inherits.5710f9ab.js";const x="/assets/notsupport.272a3ba1.svg",E=v({name:"NetworkSwitcher",setup(C,I){const n=f(),u=i(),a=h(),r=i(),s=S(()=>c.find(e=>e.chainId===a.chainId));k(()=>{var e;(e=s.value)!=null&&e.chainId&&(r.value=s.value),r.value||(r.value=c[0])});async function p(e){a.ensureWalletConnected().then(t=>{var l;console.log("onSelectNetwork ensureWalletConnected res",t),(l=a.wallet)==null||l.switchNetwork(e)}).catch(t=>{console.log("onSelectNetwork ensureWalletConnected err",t)})}a.setOpenNetworkSwitcher(()=>{var e;(e=u.value)==null||e.click()});const d=()=>{var e,t,l;return((e=s.value)==null?void 0:e.chainId)&&r.value?o(m,null,[o("img",{src:(t=r.value)==null?void 0:t.logo,class:"rounded-xl h-5 w-5"},null),n.isLargeScreen?o("span",{class:"ml-2"},[(l=r.value)==null?void 0:l.name]):""]):o(m,null,[o("img",{src:x,class:"rounded-xl h-5 mr-2 w-5"},null),n.isLargeScreen?o("span",{class:"ml-2"},[b("Not support")]):""])};return()=>{var e;return o(N,{value:(e=s.value)==null?void 0:e.chainId,options:c.map(t=>{var l;return{key:t.chainId,icon:()=>o("img",{src:t.logo,class:"rounded-full h-5 w-5"},null),label:(l=t.name)!=null?l:t.shortName}}),onSelect:p},{default:()=>[o(w,{size:"small",class:"h-8 u-h6"},{default:()=>[o("div",{class:"flex flex-nowrap items-center u-h6",ref:u},[d(),n.isLargeScreen?o(g,{class:"h-4 ml-2 w-4"},null):null])]})]})}}});export{E as default};
